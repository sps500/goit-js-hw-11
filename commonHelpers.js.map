{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = 'u_bgxnj34w7k';\n\nexport async function searchImages(keyword) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    keyword\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    throw new Error('Failed to fetch images from Pixabay API');\n  }\n}\n","export function clearGallery() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n}\n\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  const fragment = document.createDocumentFragment();\n\n  images.forEach(image => {\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.dataset.source = image.largeImageURL;\n    fragment.appendChild(img);\n  });\n\n  gallery.appendChild(fragment);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api.js';\nimport { clearGallery, renderImages } from './js/render-functions.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const searchForm = document.getElementById('search-form');\n  const loader = document.getElementById('loader');\n\n  searchForm.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const query = event.target.elements.query.value.trim();\n    if (!query) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query',\n      });\n      return;\n    }\n\n    clearGallery();\n    loader.style.display = 'block';\n\n    try {\n      const images = await searchImages(query);\n      renderImages(images);\n      // Після додавання нових елементів викликаємо метод refresh для SimpleLightbox\n      // Перший раз викликаємо при ініціалізації\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n    } catch (error) {\n      console.error(error.message);\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n      });\n    } finally {\n      loader.style.display = 'none';\n    }\n  });\n});\n"],"names":["API_KEY","searchImages","keyword","url","clearGallery","gallery","renderImages","images","fragment","image","img","searchForm","loader","event","query","iziToast","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,eAET,eAAeC,EAAaC,EAAS,CAC1C,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBACvDE,CACD,CAAA,2DAED,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACb,MAAe,CACd,MAAM,IAAI,MAAM,yCAAyC,CAC1D,CACH,CCdO,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,EACtB,CAEO,SAASC,EAAaC,EAAQ,CACnC,MAAMF,EAAU,SAAS,eAAe,SAAS,EAC3CG,EAAW,SAAS,yBAE1BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMD,EAAM,aAChBC,EAAI,IAAMD,EAAM,KAChBC,EAAI,QAAQ,OAASD,EAAM,cAC3BD,EAAS,YAAYE,CAAG,CAC5B,CAAG,EAEDL,EAAQ,YAAYG,CAAQ,CAC9B,CCXA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMG,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAS,SAAS,eAAe,QAAQ,EAE/CD,EAAW,iBAAiB,SAAU,MAAME,GAAS,CACnDA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACjB,CAAO,EACD,MACD,CAEDX,IACAQ,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAML,EAAS,MAAMN,EAAaa,CAAK,EACvCR,EAAaC,CAAM,EAGF,IAAIS,EAAe,YAAY,EACvC,QAAO,CACjB,OAAQC,EAAO,CACd,QAAQ,MAAMA,EAAM,OAAO,EAC3BF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACjB,CAAO,CACP,QAAc,CACRH,EAAO,MAAM,QAAU,MACxB,CACL,CAAG,CACH,CAAC"}